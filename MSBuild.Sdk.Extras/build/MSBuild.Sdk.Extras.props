<Project>

	<PropertyGroup>
		<MSBuildAllProjects>$(MSBuildAllProjects);$(MSBuildThisFileFullPath)</MSBuildAllProjects>
		<MSBuildSDKExtrasTargets>$(MSBuildThisFileDirectory)MSBuild.Sdk.Extras.Core.targets</MSBuildSDKExtrasTargets>
  </PropertyGroup>

  <Choose>
    <When Condition="'$(MSBuildProjectExtension)' == '.csproj' or ('$(MSBuildProjectExtension)' == '.tmp_proj' and Exists('$(MSBuildProjectDirectory)\$(AssemblyName).csproj'))">
      <PropertyGroup>
        <_SdkLanguageName>CSharp</_SdkLanguageName>
        <_SdkLanguageExtension>.cs</_SdkLanguageExtension>
      </PropertyGroup>
    </When>

    <When Condition="'$(MSBuildProjectExtension)' == '.vbproj' or ('$(MSBuildProjectExtension)' == '.tmp_proj' and Exists('$(MSBuildProjectDirectory)\$(AssemblyName).vbproj'))">
      <PropertyGroup>
        <_SdkLanguageName>VisualBasic</_SdkLanguageName>
        <_SdkLanguageExtension>.vb</_SdkLanguageExtension>
      </PropertyGroup>
    </When>

    <When Condition="'$(MSBuildProjectExtension)' == '.fsproj' or ('$(MSBuildProjectExtension)' == '.tmp_proj' and Exists('$(MSBuildProjectDirectory)\$(AssemblyName).fsproj'))">
      <PropertyGroup>
        <_SdkLanguageName>FSharp</_SdkLanguageName>
        <_SdkLanguageExtension>.fs</_SdkLanguageExtension>
      </PropertyGroup>
    </When>

    <Otherwise />
  </Choose>

  <PropertyGroup>
    <EnableEmbeddedResourceGenerator Condition="'$(EnableEmbeddedResourceGenerator)' == ''">true</EnableEmbeddedResourceGenerator>
    <EmbeddedResourceGeneratorVisibilityIsInternal Condition="'$(EmbeddedResourceGeneratorVisibilityIsInternal)' == ''">true</EmbeddedResourceGeneratorVisibilityIsInternal>
  </PropertyGroup>

  <!-- Props are imported unconditionally so they can provide default items that the IDE needs for project evaluation up-front
       Still, the items included are conditioned to $(EnableDefaultPlatformItems) == 'true', since the project can override 
       that value in the first pass, and by the time the items are evaluated, the right setting is in place. -->
  <Import Project="$(MSBuildThisFileDirectory)MSBuild.Sdk.Extras.DefaultItems.props" />
  <Import Project="$(MSBuildThisFileDirectory)platforms\*.DefaultItems.props" />

</Project>